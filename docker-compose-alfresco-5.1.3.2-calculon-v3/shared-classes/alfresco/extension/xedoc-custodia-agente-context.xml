<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE beans PUBLIC "-//SPRING//DTD BEAN//EN" "http://www.springframework.org/dtd/spring-beans.dtd">
<beans>


    <bean id="viafirma-sergas-configuracion" class="com.queres.xedoc.custodia.firmacli.sergas.clientews.ConfigureUtil" factory-method="getInstance">
        <property name="plataformaServer" value="http://firma.sergas.queres.loc/firmaPlatform"/>
        <property name="plataformaServerWS" value="http://firma.sergas.queres.loc/firmaPlatform"/>
        <property name="apiKey" value="xedoc"/>
        <property name="apiPass" value="7731884d02f1700249e11768e36032ca45f8ada83677a374d676933139806d35"/>
        <property name="certAlias" value="cert_servidor"/>
        <property name="certPass" value="SERGAS"/>
        <property name="encoder" ref="viafirmaSergasEncoderImpl"/>
    </bean>
<!--
    <bean id="viafirma-sergas-configuracion" class="com.queres.xedoc.custodia.firmacli.sergas.clientews.ConfigureUtil" factory-method="getInstance">
        <property name="plataformaServer" value="http://firmapre.sergas.local/firmaPlatform"/>
        <property name="plataformaServerWS" value="http://firmapre.sergas.local/firmaPlatform"/>
        <property name="apiKey" value="XEDOCCUSTPRE"/>
        <property name="apiPass" value="9a404cc3b644028ce0ae4df67e6475b6"/> 
        <property name="certAlias" value="cert_servidor"/>
        <property name="certPass" value=""/>
        <property name="encoder" ref="rijndaelEncoderImpl"/>
    </bean>
-->

    <bean id="viafirmaSergasEncoderImpl" class="com.queres.xedoc.encoder.impl.rijndael.RijndaelEncoder" init-method="init">
        <property name="keyFileLocation" value="/queres_xedoc_rijndael" />
    </bean>

    <bean id="jerseyServiceClientBaseTransformacion" class="com.queres.xedoc.custodia.jersey.JerseyServiceClientBase">
        <property name="client">
            <bean factory-method="create" class="com.sun.jersey.api.client.Client" >
                <constructor-arg>
                    <bean class="com.queres.xedoc.custodia.jersey.JerseyClientConfig"/>
                </constructor-arg>
            </bean>
        </property>
        <property name="encoder" ref="rijndaelEncoderImpl"/>
        <property name="url" value="http://xedoctransf.queres.loc/xedoc_transf"/>
        <property name="user" value="was.xedoc_cust"/>
        <property name="password" value="e08b54e6b0cafccb4676c4889d07a1d1"/>
    </bean>

    <bean id="jerseyServiceClientBaseCustodia" class="com.queres.xedoc.custodia.jersey.JerseyServiceClientBase">
        <property name="client">
            <bean factory-method="create" class="com.sun.jersey.api.client.Client" >
                <constructor-arg>
                    <bean class="com.queres.xedoc.custodia.jersey.JerseyClientConfig"/>
                </constructor-arg>
            </bean>
        </property>
        <property name="encoder" ref="rijndaelEncoderImpl"/>
        <property name="url" value="http://websphere.queres.loc:9082/xedoc_cust_wss"/>
        <property name="user" value="was.xedoc_cust"/>
        <property name="password" value="e08b54e6b0cafccb4676c4889d07a1d1"/>
    </bean>

    <!-- deshabilita behaviour en nuevas versiones -->
    <bean id="custodiaAfterCreateVersionBehavior" class="com.queres.xedoc.custodia.ecm.alfresco.behaviour.CustodiaAfterCreateVersion"
          init-method="init">
        <property name="enabled" value="true"/>
        <property name="policyComponent" ref="policyComponent"/>
        <property name="nodeService" ref="NodeService"/>
        <property name="runtimeRuleService" ref="ruleService"/>
        <property name="disparadorCustodia" ref="disparadorCustodia"/>
                <property name="ruleType" ref="update"/>

    </bean>

</beans>

